<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinh Ph·ª•c ƒêGNL - Summoner's Rift</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Beaufort+for+LOL:wght@700&display=swap');
        body { font-family: 'Helvetica Neue', sans-serif; background: #010a13; color: #f0e6d2; }
        .lol-header { font-family: 'Beaufort for LOL', serif; text-transform: uppercase; letter-spacing: 2px; }
        #hp-fill { transition: width 0.4s ease-out; box-shadow: 0 0 15px #ff0000; }
        .rank-icon { width: 60px; height: 60px; object-fit: contain; }
        .option-btn:hover { border-color: #c89b3c; background: #1e2328; color: #c8aa6e; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

    <div class="flex flex-col items-center mb-6">
        <img src="https://brand.riotgames.com/static/a91000434f1b533e4d9f6973f5a04473/01_LoL_Logo_Fixed.png" alt="LoL Logo" class="w-48 mb-2">
        <h1 class="lol-header text-3xl text-yellow-500 italic uppercase">Chinh Ph·ª•c ƒêGNL</h1>
    </div>

    <div class="w-full max-w-md bg-[#091428] p-4 rounded border border-[#c8aa6e] mb-6 flex items-center shadow-2xl">
        <div id="rank-display" class="flex items-center gap-4">
            <img id="rank-img" src="https://raw.communitydragon.org/latest/plugins/rcp-fe-lol-static-assets/global/default/images/ranked-emblems/emblem-bronze.png" class="rank-icon">
            <div>
                <p id="rank-name" class="text-xl font-bold uppercase text-white leading-none">ƒê·ªìng ƒêo√†n</p>
                <p id="lp-score" class="text-blue-400 font-semibold mt-1">0 LP</p>
            </div>
        </div>
        <div class="ml-auto flex flex-col items-end">
            <span class="text-[10px] text-gray-400 uppercase tracking-widest">Nhi·ªám v·ª•: Ph√° Tr·ª•</span>
            <span id="streak-count" class="text-xs text-yellow-500 font-bold">Chu·ªói th·∫Øng: 0</span>
        </div>
    </div>

    <div class="w-full max-w-md mb-8">
        <div class="flex justify-between items-end mb-2">
            <span class="text-red-500 font-bold uppercase text-xs tracking-tighter italic">ƒêang c√¥ng tr·ª•: Nexus Crystal</span>
            <span id="hp-text" class="text-sm font-black text-red-500">100 / 100 HP</span>
        </div>
        <div class="h-5 w-full bg-gray-900 rounded-sm border border-gray-700 p-0.5">
            <div id="hp-fill" class="bg-gradient-to-r from-red-800 to-red-500 h-full w-full"></div>
        </div>
    </div>

    <div class="w-full max-w-md bg-[#0a1428] border-t-2 border-[#c8aa6e] p-6 shadow-2xl relative">
        <div id="subject-tag" class="absolute -top-3 left-4 bg-[#c89b3c] text-black px-3 py-0.5 text-[10px] font-black uppercase italic">To√°n H·ªçc</div>
        <h2 id="question-text" class="text-lg font-medium leading-relaxed mb-6 mt-2">ƒêang t·∫£i d·ªØ li·ªáu t·ª´ Summoner's Rift...</h2>
        <div id="options" class="grid grid-cols-1 gap-3"></div>
    </div>

    <audio id="sound-correct" src="https://www.myinstants.com/media/sounds/tuturu_1.mp3"></audio>
    <audio id="sound-victory" src="https://www.myinstants.com/media/sounds/pentakill-sound-effect.mp3"></audio>
    <audio id="sound-rankup" src="https://www.myinstants.com/media/sounds/level-up-pings-league-of-legends.mp3"></audio>

    <script>
        // Kho ƒë·ªÅ m·ªü r·ªông ƒëa m√¥n (Lanes)
        const database = [
            { s: "To√°n H·ªçc", q: "ƒê·∫°o h√†m c·ªßa h√†m s·ªë y = x^2 l√† g√¨?", a: ["x", "2x", "x^2", "2"], c: 1 },
            { s: "V·∫≠t L√Ω", q: "Trong ch√¢n kh√¥ng, t·ªëc ƒë·ªô √°nh s√°ng x·∫•p x·ªâ bao nhi√™u?", a: ["3.10^8 m/s", "2.10^8 m/s", "3.10^7 m/s", "1.10^8 m/s"], c: 0 },
            { s: "Ti·∫øng Anh", q: "What is the synonym of 'Victory'?", a: ["Defeat", "Triumph", "Failure", "Loss"], c: 1 },
            { s: "To√°n H·ªçc", q: "H√†m s·ªë y = 2x + 1 c√≥ h·ªá s·ªë g√≥c l√†?", a: ["1", "2", "3", "0"], c: 1 },
            { s: "Ng·ªØ VƒÉn", q: "T·ª´ n√†o sau ƒë√¢y vi·∫øt ƒê√öNG ch√≠nh t·∫£?", a: ["Xoay x·ªü", "Xoay s·ªü", "S∆° su·∫•t", "Su·∫•t s·∫Øc"], c: 0 },
            { s: "To√°n H·ªçc", q: "S·ªë ti·∫øp theo c·ªßa d√£y 2, 4, 8 l√†?", a: ["10", "12", "16", "14"], c: 2 },
            { s: "V·∫≠t L√Ω", q: "ƒê∆°n v·ªã c·ªßa ƒëi·ªán tr·ªü l√† g√¨?", a: ["V√¥n (V)", "Ampe (A)", "Ohm (Œ©)", "Watt (W)"], c: 2 },
            { s: "Ti·∫øng Anh", q: "Complete: 'League of Legends is a ____ game.'", a: ["MOBA", "FPS", "RPG", "RTS"], c: 0 },
            { s: "To√°n H·ªçc", q: "CƒÉn b·∫≠c hai c·ªßa 144 l√†?", a: ["10", "11", "12", "13"], c: 2 },
            { s: "Ti·∫øng Anh", q: "D·ªãch t·ª´ 'Legendary' sang ti·∫øng Vi·ªát?", a: ["Huy·ªÅn tho·∫°i", "Th·∫ßn tho·∫°i", "S·ª≠ thi", "V√¥ ƒë·ªãch"], c: 0 }
        ];

        let currentIdx = 0;
        let hp = 100;
        let lp = 0;
        let streak = 0;

        const ranks = [
            { name: "ƒê·ªìng ƒêo√†n", min: 0, img: "emblem-bronze.png" },
            { name: "B·∫°c ƒêo√†n", min: 40, img: "emblem-silver.png" },
            { name: "V√†ng ƒêo√†n", min: 80, img: "emblem-gold.png" },
            { name: "B·∫°ch Kim", min: 140, img: "emblem-platinum.png" },
            { name: "Th√°ch ƒê·∫•u", min: 200, img: "emblem-challenger.png" }
        ];

        function updateRank() {
            let currentRank = ranks[0];
            ranks.forEach(r => { if (lp >= r.min) currentRank = r; });
            
            const rankLabel = document.getElementById('rank-name');
            const oldRank = rankLabel.innerText;
            rankLabel.innerText = currentRank.name;
            document.getElementById('rank-img').src = `https://raw.communitydragon.org/latest/plugins/rcp-fe-lol-static-assets/global/default/images/ranked-emblems/${currentRank.img}`;
            
            if (oldRank !== currentRank.name && lp > 0) {
                document.getElementById('sound-rankup').play();
            }
        }

        function renderQuestion() {
            const data = database[currentIdx];
            document.getElementById('subject-tag').innerText = data.s;
            document.getElementById('question-text').innerText = data.q;
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';

            data.a.forEach((ans, i) => {
                const btn = document.createElement('button');
                btn.className = "option-btn p-4 text-left border border-[#1e2328] bg-[#1e2328] transition-all text-sm font-bold uppercase italic";
                btn.innerText = `${String.fromCharCode(65 + i)}. ${ans}`;
                btn.onclick = () => checkAnswer(i);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnswer(idx) {
            if (idx === database[currentIdx].c) {
                hp = Math.max(0, hp - (100 / database.length));
                streak++;
                lp += (15 + (streak * 2)); // Th∆∞·ªüng chu·ªói th·∫Øng
                document.getElementById('sound-correct').play();
            } else {
                streak = 0;
                lp = Math.max(0, lp - 10);
                alert("üíÄ TH·∫§T B·∫†I! Nexus ph·∫£n c√¥ng b·∫°n m·∫•t 10 LP.");
            }

            document.getElementById('hp-fill').style.width = hp + "%";
            document.getElementById('hp-text').innerText = Math.round(hp) + " / 100 HP";
            document.getElementById('lp-score').innerText = lp + " LP";
            document.getElementById('streak-count').innerText = `Chu·ªói th·∫Øng: ${streak}`;
            
            updateRank();

            if (hp <= 0) {
                document.getElementById('sound-victory').play();
                setTimeout(() => {
                    alert(`VICTORY! B·∫°n ƒë√£ d·ªçn s·∫°ch Summoner's Rift v·ªõi b·∫≠c ${document.getElementById('rank-name').innerText}!`);
                    location.reload();
                }, 1000);
            } else {
                currentIdx = (currentIdx + 1) % database.length;
                setTimeout(renderQuestion, 400);
            }
        }

        window.onload = renderQuestion;
    </script>
</body>
</html>
